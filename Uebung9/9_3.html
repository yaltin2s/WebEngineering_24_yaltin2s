<!DOCTYPE html>

<html lang="de">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Tic-Tac-Toe</title>

  <style>

    body {

      font-family: Arial, sans-serif;

      display: flex;

      justify-content: center;

      align-items: center;

      height: 100vh;

      margin: 0;

      background-color: #f4f4f4;

    }

    .game {

      display: grid;

      grid-template-columns: repeat(3, 100px);

      grid-template-rows: repeat(3, 100px);

      gap: 5px;

    }

    .cell {

      width: 100px;

      height: 100px;

      background-color: white;

      border: 1px solid #ccc;

      display: flex;

      justify-content: center;

      align-items: center;

      cursor: pointer;

    }

    .cell:hover {

      background-color: #e8e8e8;

    }

    svg {

      width: 70%;

      height: 70%;

    }

    .winner {

      text-align: center;

      margin-top: 20px;

      font-size: 1.5em;

      color: #333;

    }

  </style>

</head>

<body>

<div class="container">

  <div class="game" id="gameBoard"></div>

  <div class="winner" id="winnerMessage"></div>

</div>

<script>

  const gameBoard = document.getElementById('gameBoard');

  const winnerMessage = document.getElementById('winnerMessage');

  let currentPlayer = 'X';

  let board = Array(9).fill(null);

  function createCell(index) {

    const cell = document.createElement('div');

    cell.classList.add('cell');

    cell.addEventListener('click', () => handleCellClick(index, cell), { once: true });

    return cell;

  }

  function handleCellClick(index, cell) {

    board[index] = currentPlayer;

    drawSymbol(cell, currentPlayer);

    if (checkWinner()) {

      winnerMessage.textContent = `Spieler ${currentPlayer} gewinnt!`;

      gameBoard.childNodes.forEach(c => c.style.pointerEvents = 'none');

    } else if (board.every(Boolean)) {

      winnerMessage.textContent = "Unentschieden!";

    } else {

      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';

    }

  }

  function drawSymbol(cell, player) {

    const svgNS = 'http://www.w3.org/2000/svg';

    const svg = document.createElementNS(svgNS, 'svg');

    if (player === 'X') {

      const line1 = document.createElementNS(svgNS, 'line');

      line1.setAttribute('x1', '10');

      line1.setAttribute('y1', '10');

      line1.setAttribute('x2', '90');

      line1.setAttribute('y2', '90');

      line1.setAttribute('stroke', 'black');

      line1.setAttribute('stroke-width', '5');

      const line2 = document.createElementNS(svgNS, 'line');

      line2.setAttribute('x1', '90');

      line2.setAttribute('y1', '10');

      line2.setAttribute('x2', '10');

      line2.setAttribute('y2', '90');

      line2.setAttribute('stroke', 'black');

      line2.setAttribute('stroke-width', '5');

      svg.appendChild(line1);

      svg.appendChild(line2);

    } else {

      const circle = document.createElementNS(svgNS, 'circle');

      circle.setAttribute('cx', '50');

      circle.setAttribute('cy', '50');

      circle.setAttribute('r', '40');

      circle.setAttribute('stroke', 'black');

      circle.setAttribute('stroke-width', '5');

      circle.setAttribute('fill', 'none');

      svg.appendChild(circle);

    }

    cell.appendChild(svg);

  }

  function checkWinner() {

    const winPatterns = [

      [0, 1, 2], [3, 4, 5], [6, 7, 8],

      [0, 3, 6], [1, 4, 7], [2, 5, 8],

      [0, 4, 8], [2, 4, 6]

    ];

    return winPatterns.some(pattern =>

            pattern.every(index => board[index] === currentPlayer)

    );

  }

  function initGame() {

    gameBoard.innerHTML = '';

    board = Array(9).fill(null);

    currentPlayer = 'X';

    winnerMessage.textContent = '';

    for (let i = 0; i < 9; i++) {

      gameBoard.appendChild(createCell(i));

    }

  }

  initGame();

</script>

</body>

</html>

